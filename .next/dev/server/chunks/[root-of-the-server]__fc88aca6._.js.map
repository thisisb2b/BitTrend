{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nexo.Chain/Task%20update/BitTrend/pages/api/topAlpha.js"],"sourcesContent":["export default async function handler(req, res) {\n  const { timeframe = \"24h\", limit = 100 } = req.query;\n\n  try {\n    const response = await fetch(\n      `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=${limit}&page=1&price_change_percentage=24h,7d,30d&sparkline=true`\n    );\n    const data = await response.json();\n\n    const timeframeKey =\n      timeframe === \"7d\"\n        ? \"price_change_percentage_7d_in_currency\"\n        : timeframe === \"30d\"\n        ? \"price_change_percentage_30d_in_currency\"\n        : \"price_change_percentage_24h\";\n\n    const topAlpha = data\n      .filter(c => c[timeframeKey] !== null)\n      .sort((a, b) => b[timeframeKey] - a[timeframeKey])\n      .slice(0, Math.ceil(data.length * 0.05));\n\n    res.status(200).json(topAlpha);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch crypto data\" });\n  }\n}"],"names":[],"mappings":";;;;AAAe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,MAAM,EAAE,YAAY,KAAK,EAAE,QAAQ,GAAG,EAAE,GAAG,IAAI,KAAK;IAEpD,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,CAAC,8FAA8F,EAAE,MAAM,yDAAyD,CAAC;QAEnK,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,MAAM,eACJ,cAAc,OACV,2CACA,cAAc,QACd,4CACA;QAEN,MAAM,WAAW,KACd,MAAM,CAAC,CAAA,IAAK,CAAC,CAAC,aAAa,KAAK,MAChC,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,EAChD,KAAK,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,MAAM,GAAG;QAEpC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;IACvB,EAAE,OAAO,OAAO;QACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAA8B;IAC9D;AACF"}}]
}